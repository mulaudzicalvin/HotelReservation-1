/*
* Kendo UI Complete v2012.3.1413 (http://kendoui.com)
* Copyright 2013 Telerik AD. All rights reserved.
*
* Kendo UI Complete commercial licenses may be obtained at
* https://www.kendoui.com/purchase/license-agreement/kendo-ui-complete-commercial.aspx
* If you do not own a commercial license, this file shall be governed by the trial license terms.
*/
(function(e){var n=window.kendo,i=n.mobile,t=i.ui,o=e.proxy,s=n.fx.Transition,a=n.ui.Pane,r=n.ui.PaneDimensions,l=t.Widget,d=Math,h=d.abs,c=d.ceil,m=d.round,p=d.max,u=d.min,v=d.floor,g="change",f="km-current-page",w=l.extend({init:function(i,t){var d=this;l.fn.init.call(d,i,t),i=d.element,i.wrapInner("<div/>").addClass("km-scrollview").append('<ol class="km-pages"/>'),d.inner=i.children().first(),d.pager=i.children().last(),d.page=0,d.inner.css("height",d.options.contentHeight),d.container().bind("show",e.proxy(this,"viewShow")).bind("init",e.proxy(this,"viewInit"));var c,m,p,u,v,f;c=new n.ui.Movable(d.inner),m=new s({axis:"x",movable:c,onEnd:o(d._transitionEnd,d)}),p=new n.UserEvents(i,{start:function(e){2*h(e.x.velocity)>=h(e.y.velocity)?p.capture():p.cancel(),m.cancel()},allowSelection:!0,end:o(d._dragEnd,d)}),u=new r({element:d.inner,container:d.element}),v=u.x,v.bind(g,o(d.refresh,d)),f=new a({dimensions:u,userEvents:p,movable:c,elastic:!0}),e.extend(d,{movable:c,transition:m,userEvents:p,dimensions:u,dimension:v,pane:f}),d.page=d.options.page},options:{name:"ScrollView",page:0,duration:300,velocityThreshold:.8,contentHeight:"auto",bounceVelocityThreshold:1.6},events:[g],destroy:function(){l.fn.destroy.call(this),this.userEvents.destroy(),n.destroy(this.element)},viewInit:function(){this.movable.moveAxis("x",-this.page*this.dimension.getSize())},viewShow:function(){this.dimensions.refresh()},refresh:function(){var e,n=this,i="",t=n.dimension,o=t.getSize(),s=n.element.find("[data-role=page]");s.width(o),t.update(!0),s[0]||(n.page=Math.floor(-n.movable.x/o)),n.scrollTo(n.page,!0),e=n.pages=c(t.getTotal()/o),n.minSnap=-(e-1)*o,n.maxSnap=0;for(var a=0;e>a;a++)i+="<li/>";n.pager.html(i),n._updatePager()},content:function(e){this.element.children().first().html(e),this.dimensions.refresh()},scrollTo:function(e,n){this.page=e,this._moveTo(-e*this.dimension.getSize(),s.easeOutExpo,n)},_moveTo:function(e,n,i){this.transition.moveTo({location:e,duration:i?1:this.options.duration,ease:n})},_dragEnd:function(e){var n,i=this,t=e.x.velocity,o=i.dimension.size,a=i.options,r=a.velocityThreshold,l=m,d=s.easeOutExpo;t>r?l=c:-r>t&&(l=v),h(t)>a.bounceVelocityThreshold&&(d=s.easeOutBack),n=p(i.minSnap,u(l(i.movable.x/o)*o,i.maxSnap)),this._moveTo(n,d)},_transitionEnd:function(){var e=this,n=Math.round(-e.movable.x/e.dimension.size);n!=e.page&&(e.page=n,e.trigger(g,{page:n}),e._updatePager())},_updatePager:function(){this.pager.children().removeClass(f).eq(this.page).addClass(f)}});t.plugin(w)})(window.kendo.jQuery);